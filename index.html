<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="/assets/app.css">
    <script src="https://kit.fontawesome.com/145c9296c6.js" crossorigin="anonymous"></script>
    <script src="./init-firebase.js"></script>


    <title>Document</title>

</head>
<body>

    
    <div class="container">


    <!-- L O G I N - F O R M  -->

    
    <form onsubmit="sendEmailVerification()" id="login_form" action="/" method="POST">
        
        <header>
            <i id="loginLogo" class="fas fa-2x fa-users"></i>
        </header>
    
            <div class="line1">
                    <input placeholder="Email" id="email_input" type="email" inputmode="email" placeholder="Email" required>
            </div>
    
            <div class="line2">
                    <input style="font-size: large;" id="password_input" type="password" placeholder="Password" required>
            </div>

                <button type="submit" class="loginButton">Login</button>

           
                        <p id="sign-up">Don't have an account? Sign up here.</p>
               

    </form>


                <!--S I G N - U P - F O R M -->


                <form id="sign_up_form" action="/" method="POST">
                    <header>
                        <i id="signUpLogo" class="fas fa-2x fa-user-plus"></i>
                    </header>
                    
                    
                    <div class="signUpInputs" style="display: flex; flex-direction: column;">
                            <input id="first_input" type="name" inputmode="email" placeholder="First Name" required>
                            <input id="last_input" type="name" name="last_input" placeholder="Last Name" required>
                            <input id="email_input" type="email" name="last_input" inputmode="Email" placeholder="Email" required>
                            <input id="password_input" type="password" name="last_input" placeholder="Password" required>
                    </div>
                    <button type="submit" class="signUpButton">Sign Up</button>
                    <p id="login">Have an account? <bold>Login here</bold>.</p>
                </form>
                

            </div>





                <!--  J A V A S C R I P T - Click Events & submission functions -->




                <script>
                    // Variable declarations
                    const loginButton = document.querySelector('.loginButton');
                    const signUpButton = document.querySelector('.signUpButton');
                    const login = document.getElementById('login');
                    const signUp = document.getElementById('sign-up');
                    const signUpInputs = document.querySelector('.signUpInputs');
                    const loginForm = document.getElementById('login_form');
                    const signUpForm = document.getElementById('sign_up_form')
                    const loginLogo = document.getElementById('loginLogo');
                    let email = document.getElementById('email_input').value; 
                    let password = document.getElementById('password_input').value;
                    
                    // Hiding one of the forms upon app load in.
                    window.onload = ()=>{
                        signUpForm.classList.add('displayNone');
                    }

                    // Click events to toggle between forms
                    login.addEventListener('click', ()=>{
                        signUpForm.classList.toggle('displayNone'); 
                        loginForm.classList.toggle('displayNone');
                        
                    });
            
                    signUp.addEventListener('click', ()=>{
                        loginForm.classList.toggle('displayNone');
                        signUpForm.classList.toggle('displayNone');
                    });
                    



                    handleLoginSubmit = () =>{
                        
                        
                    
                                // Logo change upon submission
                            loginLogo.classList.add('fa-user-check');
                            loginLogo.classList.remove('fa-users');
                            loginLogo.style.color = "green";


                        
                                                }
                                                
                                                    
                                // firebase handling

                                firebase.auth().signInWithEmailAndPassword(email,password).catch(error=>{
                                let errorCode = error.code; 
                                let errorMessage = error.message;
                            
                            })


                            sendEmailVerification = () =>{
                                firebase.auth().currentUser.sendEmailVerification().then(()=>{
                                    alert("Email verification has been sent to the user."); 
                                })
                            }

 

                </script>  

                


            

            
                <!-- The core Firebase JS SDK is always required and must be listed first -->
                <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>

                <!-- TODO: Add SDKs for Firebase products that you want to use
                    https://firebase.google.com/docs/web/setup#available-libraries -->
                <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-analytics.js"></script>

</body>
</html>